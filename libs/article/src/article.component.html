<div class="article-page">
	<div class="banner">
		<div class="container">
			<h1>{{ article.title }}</h1>
			<article-meta [article]="article | async" [isAuthenticated]="isAuthenticated | async"></article-meta>
		</div>
	</div>

	<div class="container page">
		<div class="row article-content">
			<div class="col-md-12">
				<div [innerHTML]="(article | async)?.body | markdown"></div>
			</div>
		</div>
		<hr />
		<div class="article-actions">
			<article-meta [article]="article | async" [isAuthenticated]="isAuthenticated | async"></article-meta>
		</div>

		<div class="row">
			<div class="col-xs-12 col-md-8 offset-md-2">
				<div *ngIf="isAuthenticated | async">
					<div class="card comment-form">
						<dynamic-form (submit)="submit($event)" [data$]="data$" [structure$]="structure$">
						</dynamic-form>
						<div class="card-footer">
							<!-- <img [src]="currentUser.image" class="comment-author-img" /> -->
							<button class="btn btn-sm btn-primary" type="submit">
								Post Comment
							</button>
						</div>
					</div>
				</div>

				<div class="card">
					<div class="card-block">
						<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
					</div>
					<div class="card-footer">
						<a href="" class="comment-author">
							<img src="http://i.imgur.com/Qr71crq.jpg" class="comment-author-img" />
						</a>
						&nbsp;
						<a href="" class="comment-author">Jacob Schmidt</a>
						<span class="date-posted">Dec 29th</span>
					</div>
				</div>

				<div *ngIf="!(isAuthenticated | async)">
					<a [routerLink]="['/login']">Sign in</a> or
					<a [routerLink]="['/register']">sign up</a> to add comments on this article.
				</div>

				<article-comment *ngFor="let comment of (comments | async)" [comment]="comment"></article-comment>
			</div>
		</div>
	</div>
</div>