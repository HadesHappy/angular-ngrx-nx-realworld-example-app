(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/JVv":function(t,n,e){"use strict";e("ou5U");var l=e("J2pT");e.d(n,"b",function(){return l.a});var i=e("uqYu");e.d(n,"a",function(){return i.h}),e("OPhZ")},AqcY:function(t,n,e){"use strict";var l=e("LoAr"),i=e("WT9V"),a=e("981U"),r=function(){function t(){this.favorite=new l.m,this.unFavorite=new l.m,this.navigateToArticle=new l.m}return t.prototype.toggleFavorite=function(t){t.favorited?this.unFavorite.emit(t.slug):this.favorite.emit(t.slug)},t}(),u=l.La({encapsulation:0,styles:[[""]],data:{}});function o(t){return l.fb(0,[(t()(),l.Na(0,0,null,null,1,"li",[["class","tag-default tag-pill tag-outline"]],null,null,null,null,null)),(t()(),l.db(1,null,[" "," "]))],null,function(t,n){t(n,1,0,n.context.$implicit)})}function c(t){return l.fb(2,[l.Xa(0,i.e,[l.s]),(t()(),l.Na(1,0,null,null,27,"div",[["class","article-preview"]],null,null,null,null,null)),(t()(),l.Na(2,0,null,null,16,"div",[["class","article-meta"]],null,null,null,null,null)),(t()(),l.Na(3,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),l.Na(4,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),l.Na(5,0,null,null,7,"div",[["class","info"]],null,null,null,null,null)),(t()(),l.Na(6,0,null,null,3,"a",[["class","author"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==l.Va(t,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&i),i},null,null)),l.Ma(7,671744,null,0,a.p,[a.n,a.a,i.i],{routerLink:[0,"routerLink"]},null),l.Wa(8,2),(t()(),l.db(9,null,[" "," "])),(t()(),l.Na(10,0,null,null,2,"span",[["class","date"]],null,null,null,null,null)),(t()(),l.db(11,null,[" "," "])),l.Za(12,2),(t()(),l.Na(13,0,null,null,5,"button",[["class","btn btn-sm pull-xs-right"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;return"click"===n&&(l=!1!==i.toggleFavorite(i.article)&&l),l},null,null)),l.Ma(14,278528,null,0,i.j,[l.q,l.r,l.k,l.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Ya(15,{"btn-outline-primary":0,"btn-primary":1}),(t()(),l.Na(16,0,null,null,0,"i",[["class","ion-heart"]],null,null,null,null,null)),(t()(),l.Na(17,0,null,null,1,"div",[["class","info"]],null,null,null,null,null)),(t()(),l.db(18,null,["",""])),(t()(),l.Na(19,0,null,null,9,"a",[["class","preview-link"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;return"click"===n&&(l=!1!==i.navigateToArticle.emit(i.article.slug)&&l),l},null,null)),(t()(),l.Na(20,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l.db(21,null,["",""])),(t()(),l.Na(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l.db(23,null,["",""])),(t()(),l.Na(24,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.db(-1,null,["Read more..."])),(t()(),l.Na(26,0,null,null,2,"ul",[["class","tag-list"]],null,null,null,null,null)),(t()(),l.Ea(16777216,null,null,1,null,o)),l.Ma(28,278528,null,0,i.k,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,7,0,t(n,8,0,"/profile",e.article.author.username)),t(n,14,0,"btn btn-sm pull-xs-right",t(n,15,0,!e.article.favorited,e.article.favorited)),t(n,28,0,e.article.tagList)},function(t,n){var e=n.component;t(n,4,0,e.article.author.image),t(n,6,0,l.Va(n,7).target,l.Va(n,7).href),t(n,9,0,e.article.author.username),t(n,11,0,l.eb(n,11,0,t(n,12,0,l.Va(n,0),e.article.createdAt,"longDate"))),t(n,18,0,e.article.favoritesCount),t(n,21,0,e.article.title),t(n,23,0,e.article.description)})}var s=function(){return function(){this.setPage=new l.m}}(),f=l.La({encapsulation:0,styles:[[".page-link[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function p(t){return l.fb(0,[(t()(),l.Na(0,0,null,null,4,"li",[["class","page-item"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.setPage.emit(t.context.$implicit)&&l),l},null,null)),l.Ma(1,278528,null,0,i.j,[l.q,l.r,l.k,l.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Ya(2,{active:0}),(t()(),l.Na(3,0,null,null,1,"a",[["class","page-link"]],null,null,null,null,null)),(t()(),l.db(4,null,["",""]))],function(t,n){t(n,1,0,"page-item",t(n,2,0,n.context.$implicit===n.component.currentPage))},function(t,n){t(n,4,0,n.context.$implicit)})}function d(t){return l.fb(2,[(t()(),l.Na(0,0,null,null,2,"ul",[["class","pagination"]],null,null,null,null,null)),(t()(),l.Ea(16777216,null,null,1,null,p)),l.Ma(2,278528,null,0,i.k,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.totalPages)},null)}e("XIOX"),e("OPhZ"),e.d(n,"a",function(){return g}),e.d(n,"b",function(){return b});var g=l.La({encapsulation:0,styles:[[".app-article-preview[_ngcontent-%COMP%]{margin-top:1.5em}"]],data:{}});function h(t){return l.fb(0,[(t()(),l.Na(0,0,null,null,2,"app-article-list-item",[],[[8,"hidden",0]],[[null,"navigateToArticle"],[null,"unFavorite"],[null,"favorite"]],function(t,n,e){var l=!0,i=t.component;return"navigateToArticle"===n&&(l=!1!==i.navigateToArticle(e)&&l),"unFavorite"===n&&(l=!1!==i.unFavorite(e)&&l),"favorite"===n&&(l=!1!==i.favorite(e)&&l),l},c,u)),l.Ma(1,49152,null,0,r,[],{article:[0,"article"]},{favorite:"favorite",unFavorite:"unFavorite",navigateToArticle:"navigateToArticle"}),l.Xa(131072,i.b,[l.h])],function(t,n){t(n,1,0,n.context.$implicit)},function(t,n){var e=n.component;t(n,0,0,l.eb(n,0,0,l.Va(n,2).transform(e.isLoading$)))})}function b(t){return l.fb(2,[(t()(),l.Na(0,0,null,null,2,"div",[["class","app-article-preview"]],[[8,"hidden",0]],null,null,null,null)),l.Xa(131072,i.b,[l.h]),(t()(),l.db(-1,null,[" Loading articles...\n"])),(t()(),l.Na(3,0,null,null,3,"div",[["class","app-article-preview"]],[[8,"hidden",0]],null,null,null,null)),l.Xa(131072,i.b,[l.h]),l.Xa(131072,i.b,[l.h]),(t()(),l.db(-1,null,[" No articles are here... yet.\n"])),(t()(),l.Ea(16777216,null,null,2,null,h)),l.Ma(8,278528,null,0,i.k,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),l.Xa(131072,i.b,[l.h]),(t()(),l.Na(10,0,null,null,5,"app-pager",[],[[8,"hidden",0]],[[null,"setPage"]],function(t,n,e){var l=!0;return"setPage"===n&&(l=!1!==t.component.setPage(e)&&l),l},d,f)),l.Ma(11,49152,null,0,s,[],{currentPage:[0,"currentPage"],totalPages:[1,"totalPages"]},{setPage:"setPage"}),l.Xa(131072,i.b,[l.h]),l.Xa(131072,i.b,[l.h]),l.Xa(131072,i.b,[l.h]),l.Xa(131072,i.b,[l.h])],function(t,n){var e=n.component;t(n,8,0,l.eb(n,8,0,l.Va(n,9).transform(e.articles$))),t(n,11,0,l.eb(n,11,0,l.Va(n,12).transform(e.listConfig$)).currentPage,l.eb(n,11,1,l.Va(n,13).transform(e.totalPages$)))},function(t,n){var e,i=n.component;t(n,0,0,!l.eb(n,0,0,l.Va(n,1).transform(i.isLoading$))),t(n,3,0,l.eb(n,3,0,l.Va(n,4).transform(i.isLoading$))||l.eb(n,3,0,l.Va(n,5).transform(i.articles$)).length>0),t(n,10,0,(null==(e=l.eb(n,10,0,l.Va(n,14).transform(i.totalPages$)))?null:e.length)<=1||l.eb(n,10,0,l.Va(n,15).transform(i.isLoading$)))})}},B0IM:function(t,n,e){"use strict";e.d(n,"a",function(){return f});var l=e("D57K"),i=e("D3xR"),a=e("pN2L"),r=e("Jg5f"),u=e("eb+u"),o=e("HswR"),c=e("IMYO"),s=e("uqYu"),f=function(){function t(t,n,e,l){var i=this;this.actions=t,this.articleListService=n,this.actionsService=e,this.facade=l,this.setListPage=this.actions.ofType(s.a.SET_LIST_PAGE).pipe(Object(r.a)(function(){return{type:s.a.LOAD_ARTICLES}})),this.setListTag=this.actions.ofType(s.a.SET_LIST_CONFIG).pipe(Object(r.a)(function(){return new s.e})),this.loadArticles=this.actions.ofType(s.a.LOAD_ARTICLES).pipe(Object(u.a)(this.facade.listConfig$),Object(o.a)(function(t){return i.articleListService.query(t[1]).pipe(Object(r.a)(function(t){return new s.g({articles:t.articles,articlesCount:t.articlesCount})}),Object(c.a)(function(t){return Object(a.a)(new s.f(t))}))})),this.favorite=this.actions.ofType(s.a.FAVORITE).pipe(Object(r.a)(function(t){return t.payload}),Object(o.a)(function(t){return i.actionsService.favorite(t).pipe(Object(r.a)(function(t){return new s.d(t)}),Object(c.a)(function(t){return Object(a.a)(new s.c(t))}))})),this.unFavorite=this.actions.ofType(s.a.UNFAVORITE).pipe(Object(r.a)(function(t){return t.payload}),Object(o.a)(function(t){return i.actionsService.unfavorite(t).pipe(Object(r.a)(function(t){return new s.l(t)}),Object(c.a)(function(t){return Object(a.a)(new s.k(t))}))}))}return Object(l.b)([Object(i.b)(),Object(l.d)("design:type",Object)],t.prototype,"setListPage",void 0),Object(l.b)([Object(i.b)(),Object(l.d)("design:type",Object)],t.prototype,"setListTag",void 0),Object(l.b)([Object(i.b)(),Object(l.d)("design:type",Object)],t.prototype,"loadArticles",void 0),Object(l.b)([Object(i.b)(),Object(l.d)("design:type",Object)],t.prototype,"favorite",void 0),Object(l.b)([Object(i.b)(),Object(l.d)("design:type",Object)],t.prototype,"unFavorite",void 0),t}()},Hep9:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e("Ecwh");var l=e("Jg5f"),i=function(){function t(t){this.apiService=t}return t.prototype.followUser=function(t){return this.apiService.post("/profiles/"+t+"/follow").pipe(Object(l.a)(function(t){return t.profile}))},t.prototype.unfollowUser=function(t){return this.apiService.delete("/profiles/"+t+"/follow").pipe(Object(l.a)(function(t){return t.profile}))},t.prototype.favorite=function(t){return this.apiService.post("/articles/"+t+"/favorite").pipe(Object(l.a)(function(t){return t.article}))},t.prototype.unfavorite=function(t){return this.apiService.delete("/articles/"+t+"/favorite").pipe(Object(l.a)(function(t){return t.article}))},t}()},J2pT:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var l=e("uqYu"),i=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},a={listConfig:{type:"ALL",currentPage:1,filters:{limit:10}},articles:{entities:[],articlesCount:0,loaded:!1,loading:!1}};function r(t,n){switch(n.type){case l.a.SET_LIST_PAGE:var e=i({},t.listConfig.filters,{offset:t.listConfig.filters.limit*(n.payload-1)}),a=i({},t.listConfig,{currentPage:n.payload,filters:e});return i({},t,{listConfig:a});case l.a.SET_LIST_CONFIG:return i({},t,{listConfig:n.payload});case l.a.LOAD_ARTICLES:var r=i({},t.articles,{loading:!0});return i({},t,{articles:r});case l.a.LOAD_ARTICLES_SUCCESS:return r=i({},t.articles,{entities:n.payload.articles,articlesCount:n.payload.articlesCount,loading:!1,loaded:!0}),i({},t,{articles:r});case l.a.LOAD_ARTICLES_FAIL:return r=i({},t.articles,{entities:[],articlesCount:0,loading:!1,loaded:!0}),i({},t,{articles:r});case l.a.FAVORITE_SUCCESS:case l.a.UNFAVORITE_SUCCESS:return i({},t,{articles:function(t,n){var e=t.entities.findIndex(function(t){return t.slug===n.slug}),l=t.entities.slice(0,e).concat([Object.assign({},t.entities[e],n)],t.entities.slice(e+1));return i({},t,{entities:l,loading:!1,loaded:!0})}(t.articles,n.payload)});default:return t}}},OPhZ:function(t,n,e){"use strict";var l=e("GovN"),i=Object(l.B)("articleList"),a={getListConfig:Object(l.D)(i,function(t){return t.listConfig}),getArticles:Object(l.D)(i,function(t){return t.articles.entities}),getArticlesCount:Object(l.D)(i,function(t){return t.articles.articlesCount}),isLoading:Object(l.D)(i,function(t){return t.articles.loading})},r=e("uqYu"),u=e("eb+u"),o=e("Jg5f");e.d(n,"a",function(){return c});var c=function(){function t(t){this.store=t,this.articles$=this.store.select(a.getArticles),this.listConfig$=this.store.select(a.getListConfig),this.isLoading$=this.store.select(a.isLoading),this.articlesCount$=this.store.select(a.getArticlesCount),this.totalPages$=this.articlesCount$.pipe(Object(u.a)(this.listConfig$),Object(o.a)(function(t){return Array.from(new Array(Math.ceil(t[0]/t[1].filters.limit)),function(t,n){return n+1})}))}return t.prototype.favorite=function(t){this.store.dispatch(new r.b(t))},t.prototype.unFavorite=function(t){this.store.dispatch(new r.j(t))},t.prototype.navigateToArticle=function(t){this.store.dispatch({type:"[router] Go",payload:{path:["/article",t]}})},t.prototype.setPage=function(t){this.store.dispatch(new r.i(t))},t}()},XIOX:function(t,n,e){"use strict";e.d(n,"a",function(){return l}),e("OPhZ");var l=function(){function t(t){this.facade=t}return t.prototype.ngOnInit=function(){this.totalPages$=this.facade.totalPages$,this.articles$=this.facade.articles$,this.listConfig$=this.facade.listConfig$,this.isLoading$=this.facade.isLoading$},t.prototype.favorite=function(t){this.facade.favorite(t)},t.prototype.unFavorite=function(t){this.facade.unFavorite(t)},t.prototype.navigateToArticle=function(t){this.facade.navigateToArticle(t)},t.prototype.setPage=function(t){this.facade.setPage(t)},t}()},b2y2:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){}},ou5U:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){}},uqYu:function(t,n,e){"use strict";var l;e.d(n,"a",function(){return l}),e.d(n,"i",function(){return i}),e.d(n,"h",function(){return a}),e.d(n,"e",function(){return r}),e.d(n,"g",function(){return u}),e.d(n,"f",function(){return o}),e.d(n,"b",function(){return c}),e.d(n,"d",function(){return s}),e.d(n,"c",function(){return f}),e.d(n,"j",function(){return p}),e.d(n,"l",function(){return d}),e.d(n,"k",function(){return g}),function(t){t.SET_LIST_PAGE="[article-list] SET_LIST_PAGE",t.SET_LIST_CONFIG="[article-list] SET_LIST_CONFIG",t.LOAD_ARTICLES="[article-list] LOAD_ARTICLES",t.LOAD_ARTICLES_SUCCESS="[article-list] LOAD_ARTICLES_SUCCESS",t.LOAD_ARTICLES_FAIL="[article-list] LOAD_ARTICLES_FAIL",t.FAVORITE="[article-list] FAVORITE",t.FAVORITE_SUCCESS="[article-list] FAVORITE_SUCCESS",t.FAVORITE_FAIL="[article-list] FAVORITE_FAIL",t.UNFAVORITE="[article-list] UNFAVORITE",t.UNFAVORITE_SUCCESS="[article-list] UNFAVORITE_SUCCESS",t.UNFAVORITE_FAIL="[article-list] UNFAVORITE_FAIL"}(l||(l={}));var i=function(t){this.payload=t,this.type="[article-list] SET_LIST_PAGE"},a=function(t){this.payload=t,this.type="[article-list] SET_LIST_CONFIG"},r=function(){this.type="[article-list] LOAD_ARTICLES"},u=function(t){this.payload=t,this.type="[article-list] LOAD_ARTICLES_SUCCESS"},o=function(t){this.payload=t,this.type="[article-list] LOAD_ARTICLES_FAIL"},c=function(t){this.payload=t,this.type="[article-list] FAVORITE"},s=function(t){this.payload=t,this.type="[article-list] FAVORITE_SUCCESS"},f=function(t){this.payload=t,this.type="[article-list] FAVORITE_FAIL"},p=function(t){this.payload=t,this.type="[article-list] UNFAVORITE"},d=function(t){this.payload=t,this.type="[article-list] UNFAVORITE_SUCCESS"},g=function(t){this.payload=t,this.type="[article-list] UNFAVORITE_FAIL"}},zHMd:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e("Ecwh");var l=e("GiBk"),i=function(){function t(t){this.apiService=t}return t.prototype.query=function(t){return this.apiService.get("/articles"+("FEED"===t.type?"/feed":""),this.toHttpParams(t.filters))},t.prototype.toHttpParams=function(t){return Object.getOwnPropertyNames(t).reduce(function(n,e){return n.set(e,t[e])},new l.i)},t}()}}]);