webpackJsonp([2],{umBL:function(t,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=l("WT6e"),u=function(){},r=l("NxsC"),o=l("3aP1"),a=l("0izs"),i=l("1xvn"),s=l("dyjq"),c=l("Gw93"),p=l("MwZf"),d=l("7DMc"),_=l("5Bs0"),f=(l("65Uj"),l("MzHx")),h=l("bfOx"),m=[{type:"INPUT",name:"image",placeholder:"URL of profile picture",validator:[]},{type:"INPUT",name:"username",placeholder:"Your Name",validator:[d.l.required]},{type:"TEXTAREA",name:"bio",placeholder:"Short bio about you",validator:[]},{type:"INPUT",name:"email",placeholder:"Email",validator:[d.l.required]},{type:"INPUT",name:"password",placeholder:"New Password",validator:[d.l.required],attrs:{type:"password"}}],b=function(){function t(t,n,l){this.store=t,this.localStorageSevice=n,this.router=l}return t.prototype.ngOnInit=function(){var t=this;this.store.dispatch({type:"[ngrxForms] SET_STRUCTURE",payload:m}),this.store.select(_.e).subscribe(function(n){t.store.dispatch({type:"[ngrxForms] SET_DATA",payload:n})}),this.data$=this.store.select(f.b),this.structure$=this.store.select(f.c)},t.prototype.updateForm=function(t){this.store.dispatch({type:"[ngrxForms] UPDATE_DATA",payload:t})},t.prototype.submit=function(){this.store.dispatch({type:"[settings] EDIT_SETTINGS"})},t.prototype.logout=function(){this.store.dispatch(new _.b)},t}(),y=l("H4Rp"),g=e._1({encapsulation:0,styles:[[".edit-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"]],data:{}});function v(t){return e._25(2,[(t()(),e._3(0,0,null,null,31,"div",[["class","settings-page"]],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\t"])),(t()(),e._3(2,0,null,null,28,"div",[["class","container page"]],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\t\t"])),(t()(),e._3(4,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\n\t\t\t"])),(t()(),e._3(6,0,null,null,22,"div",[["class","col-md-6 offset-md-3 col-xs-12"]],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\t\t\t\t"])),(t()(),e._3(8,0,null,null,1,"h1",[["class","text-xs-center"]],null,null,null,null,null)),(t()(),e._23(-1,null,["Your Settings"])),(t()(),e._23(-1,null,["\n\n\t\t\t\t"])),(t()(),e._3(11,0,null,null,1,"app-list-errors",[],null,null,null,a.b,a.a)),e._2(12,245760,null,0,i.a,[s.n,e.h],null,null),(t()(),e._23(-1,null,["\n\n\t\t\t\t"])),(t()(),e._3(14,0,null,null,2,"app-dynamic-form",[],null,[[null,"updateForm"]],function(t,n,l){var e=!0;return"updateForm"===n&&(e=!1!==t.component.updateForm(l)&&e),e},c.b,c.a)),e._2(15,245760,null,0,p.a,[d.d],{structure$:[0,"structure$"],data$:[1,"data$"]},{updateForm:"updateForm"}),(t()(),e._23(-1,null,["\n\t\t\t\t"])),(t()(),e._23(-1,null,["\n\t\t\t\t"])),(t()(),e._3(18,0,null,null,4,"div",[["class","edit-button-container"]],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\t\t\t\t\t"])),(t()(),e._3(20,0,null,null,1,"button",[["class","btn btn-lg btn-primary pull-xs-right"],["type","submit"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.submit()&&e),e},null,null)),(t()(),e._23(-1,null,["\n\t\t\t\t\t\tUpdate Settings\n\t\t\t\t\t"])),(t()(),e._23(-1,null,["\n\t\t\t\t"])),(t()(),e._23(-1,null,["\n\n\t\t\t\t"])),(t()(),e._3(24,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),e._23(-1,null,["\n\n\t\t\t\t"])),(t()(),e._3(26,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.logout()&&e),e},null,null)),(t()(),e._23(-1,null,["\n\t\t\t\t\tOr click here to logout.\n\t\t\t\t"])),(t()(),e._23(-1,null,["\n\t\t\t"])),(t()(),e._23(-1,null,["\n\n\t\t"])),(t()(),e._23(-1,null,["\n\t"])),(t()(),e._23(-1,null,["\n"]))],function(t,n){var l=n.component;t(n,12,0),t(n,15,0,l.structure$,l.data$)},null)}var T=e.Z("app-settings",b,function(t){return e._25(0,[(t()(),e._3(0,0,null,null,1,"app-settings",[],null,null,null,v,g)),e._2(1,114688,null,0,b,[s.n,y.a,h.m],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),j=l("Xjw4"),S=l("sia5");function O(t,n){return t}var x=l("yTZN"),w=l("8AXl"),F=(l("08jl"),l("HdCx")),k=function(){function t(t){this.apiService=t}return t.prototype.update=function(t){return this.apiService.put("/user",{user:t}).pipe(Object(F.a)(function(t){return t.user}))},t}(),E=l("A4oF"),A=l("TToO"),N=(l("VwFy"),l("YWe0")),I=l("T4hI"),P=l("6VmJ"),R=l("Qnch"),U=l("Y8Mu"),q=this&&this.__assign||Object.assign||function(t){for(var n,l=1,e=arguments.length;l<e;l++)for(var u in n=arguments[l])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t},M=function(){function t(t,n,l){var e=this;this.actions=t,this.store=n,this.settingsService=l,this.editSettings=this.actions.ofType("[settings] EDIT_SETTINGS").pipe(Object(U.a)(this.store.select(f.b),this.store.select(_.e)),Object(F.a)(function(t){var n=t[1];return q({},t[2],{image:n.image,username:n.username,bio:n.bio,pass:n.pass,email:n.email})}),Object(P.a)(function(t){return e.settingsService.update(t).pipe(Object(R.a)(function(t){return[new _.a,{type:"[router] Go",payload:{path:["profile",t.username]}}]}),Object(I.a)(function(t){return Object(N.a)({type:"[ngrxForms] SET_ERRORS",payload:t.error.errors})}))}))}return Object(A.b)([Object(w.b)(),Object(A.d)("design:type",Object)],t.prototype,"editSettings",void 0),t}(),$=l("J+rA"),D=l("ObhG");l.d(n,"SettingsModuleNgFactory",function(){return G});var G=e._0(u,[],function(t){return e._10([e._11(512,e.j,e.W,[[8,[r.a,o.a,T]],[3,e.j],e.v]),e._11(4608,j.n,j.m,[e.s,[2,j.r]]),e._11(4608,d.d,d.d,[]),e._11(4608,d.o,d.o,[]),e._11(512,j.c,j.c,[]),e._11(512,d.m,d.m,[]),e._11(512,d.k,d.k,[]),e._11(1024,s.j,function(){return[{key:"ngrxForms",reducerFactory:s.z,metaReducers:[],initialState:{data:{},structure:[],valid:!0,errors:{},touched:!1}},{key:"settings",reducerFactory:s.z,metaReducers:[],initialState:{}}]},[]),e._11(1024,s.q,function(){return[S.e,O]},[]),e._11(1024,s.r,function(t,n){return[t,n]},[s.q,s.q]),e._11(1024,s.b,function(t,n,l,e,u,r){return[s.w(t,n,l),s.w(e,u,r)]},[e.p,s.q,s.r,e.p,s.q,s.r]),e._11(131584,s.o,s.o,[s.j,s.b,s.g,s.p]),e._11(512,x.a,x.a,[w.a]),e._11(512,k,k,[E.a]),e._11(512,M,M,[w.a,s.n,k]),e._11(1024,w.h,function(t,n){return[w.d(t),w.d(n)]},[x.a,M]),e._11(512,w.f,w.f,[w.e,w.h,[2,s.p],[2,s.o]]),e._11(512,$.a,$.a,[]),e._11(512,h.p,h.p,[[2,h.v],[2,h.m]]),e._11(512,u,u,[]),e._11(1024,h.k,function(){return[[{path:"",pathMatch:"full",component:b,canActivate:[D.a]}]]},[])])})}});