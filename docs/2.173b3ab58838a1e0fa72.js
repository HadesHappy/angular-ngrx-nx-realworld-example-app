(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3tGK":function(l,n,e){"use strict";e.r(n);var t=e("LoAr"),u=function(){},r=e("C9Ky"),a=e("WT9V"),i=e("981U"),o=e("fQLH"),s={username:"",bio:"",image:"",following:!1,loading:!1},c=Object.assign||function(l){for(var n,e=1,t=arguments.length;e<t;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(l[u]=n[u]);return l};function f(l,n){switch(n.type){case"[profile] GET_PROFILE":return c({},l,{loading:!0});case"[profile] GET_PROFILE_SUCCESS":return c({},n.payload,{loading:!1});case"[profile] GET_PROFILE_FAIL":return s;case"[profile] FOLLOW_SUCCESS":case"[profile] UNFOLLOW_SUCCESS":return n.payload;default:return l}}var p=function(l){return l.profile},b=e("wxdu"),h=e("BUlm"),d=e("U3QC"),v=e("Jg5f"),O=e("mhnT"),y=function(){function l(l){this.store=l,this.isUser$=new o.a,this.unsubscribe$=new o.a}return l.prototype.ngOnInit=function(){var l=this;this.profile$=this.store.select(p),this.currentUser$=this.store.select(b.e),this.profile$.pipe(Object(h.a)(this.currentUser$),Object(d.a)(function(n){var e=n[0];l.username=e.username,l.following=e.following}),Object(v.a)(function(l){return l[0].username===l[1].username}),Object(O.a)(this.unsubscribe$)).subscribe(function(n){return l.isUser$.next(n)})},l.prototype.toggleFollowing=function(){this.store.dispatch(this.following?{type:"[profile] UNFOLLOW",payload:this.username}:{type:"[profile] FOLLOW",payload:this.username})},l.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},l}(),g=e("GovN"),m=t.La({encapsulation:0,styles:[[""]],data:{}});function L(l){return t.fb(2,[(l()(),t.Na(0,0,null,null,56,"div",[["class","profile-page"]],null,null,null,null,null)),(l()(),t.Na(1,0,null,null,28,"div",[["class","user-info"]],null,null,null,null,null)),(l()(),t.Na(2,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.Na(3,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Na(4,0,null,null,25,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),t.Na(5,0,null,null,1,"img",[["class","user-img"]],[[8,"src",4]],null,null,null,null)),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(7,0,null,null,3,"h4",[],[[8,"hidden",0]],null,null,null,null)),t.Xa(131072,a.b,[t.h]),(l()(),t.db(9,null,["",""])),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(11,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t.db(12,null,["",""])),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(14,0,null,null,9,"button",[["class","btn btn-sm action-btn"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleFollowing()&&t),t},null,null)),t.Ma(15,278528,null,0,a.j,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Xa(131072,a.b,[t.h]),t.Xa(131072,a.b,[t.h]),t.Ya(18,{"btn-outline-secondary":0,"btn-secondary":1}),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(20,0,null,null,0,"i",[["class","ion-plus-round"]],null,null,null,null,null)),(l()(),t.db(21,null,[" \xa0 "," "," "])),t.Xa(131072,a.b,[t.h]),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(24,0,null,null,5,"a",[["class","btn btn-sm btn-outline-secondary action-btn"]],[[8,"hidden",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Va(l,25).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t.Ma(25,671744,null,0,i.p,[i.n,i.a,a.i],{routerLink:[0,"routerLink"]},null),t.Wa(26,1),t.Xa(131072,a.b,[t.h]),(l()(),t.Na(28,0,null,null,0,"i",[["class","ion-gear-a"]],null,null,null,null,null)),(l()(),t.db(-1,null,[" Edit Profile Settings "])),(l()(),t.Na(30,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.Na(31,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Na(32,0,null,null,24,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),t.Na(33,0,null,null,21,"div",[["class","articles-toggle"]],null,null,null,null,null)),(l()(),t.Na(34,0,null,null,20,"ul",[["class","nav nav-pills outline-active"]],null,null,null,null,null)),(l()(),t.Na(35,0,null,null,9,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.Na(36,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Va(l,37).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t.Ma(37,671744,[[2,4]],0,i.p,[i.n,i.a,a.i],{routerLink:[0,"routerLink"]},null),t.Xa(131072,a.b,[t.h]),t.Wa(39,2),t.Ma(40,1720320,null,2,i.o,[i.n,t.k,t.B,t.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.bb(603979776,1,{links:1}),t.bb(603979776,2,{linksWithHrefs:1}),t.Ya(43,{exact:0}),(l()(),t.db(-1,null,["My Articles"])),(l()(),t.Na(45,0,null,null,9,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.Na(46,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Va(l,47).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t.Ma(47,671744,[[4,4]],0,i.p,[i.n,i.a,a.i],{routerLink:[0,"routerLink"]},null),t.Xa(131072,a.b,[t.h]),t.Wa(49,3),t.Ma(50,1720320,null,2,i.o,[i.n,t.k,t.B,t.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.bb(603979776,3,{links:1}),t.bb(603979776,4,{linksWithHrefs:1}),t.Ya(53,{exact:0}),(l()(),t.db(-1,null,["Favorited Articles"])),(l()(),t.Na(55,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.Ma(56,212992,null,0,i.r,[i.b,t.M,t.j,[8,null],t.h],null,null)],function(l,n){var e=n.component;l(n,15,0,"btn btn-sm action-btn",l(n,18,0,!t.eb(n,15,1,t.Va(n,16).transform(e.profile$)).following,t.eb(n,15,1,t.Va(n,17).transform(e.profile$)).following)),l(n,25,0,l(n,26,0,"/settings")),l(n,37,0,l(n,39,0,"/profile",t.eb(n,37,0,t.Va(n,38).transform(e.profile$)).username)),l(n,40,0,l(n,43,0,!0),"active"),l(n,47,0,l(n,49,0,"/profile",t.eb(n,47,0,t.Va(n,48).transform(e.profile$)).username,"favorites")),l(n,50,0,l(n,53,0,!0),"active"),l(n,56,0)},function(l,n){var e,u,r,a=n.component;l(n,5,0,null==(e=t.eb(n,5,0,t.Va(n,6).transform(a.profile$)))?null:e.image),l(n,7,0,t.eb(n,7,0,t.Va(n,8).transform(a.profile$)).loading),l(n,9,0,null==(u=t.eb(n,9,0,t.Va(n,10).transform(a.profile$)))?null:u.username),l(n,12,0,null==(r=t.eb(n,12,0,t.Va(n,13).transform(a.profile$)))?null:r.bio),l(n,14,0,t.eb(n,14,0,t.Va(n,19).transform(a.isUser$))),l(n,21,0,t.eb(n,21,0,t.Va(n,22).transform(a.profile$)).following?"Unfollow":"Follow",t.eb(n,21,1,t.Va(n,23).transform(a.profile$)).username),l(n,24,0,!t.eb(n,24,0,t.Va(n,27).transform(a.isUser$)),t.Va(n,25).target,t.Va(n,25).href),l(n,36,0,t.Va(n,37).target,t.Va(n,37).href),l(n,46,0,t.Va(n,47).target,t.Va(n,47).href)})}var U=t.Ja("app-profile",y,function(l){return t.fb(0,[(l()(),t.Na(0,0,null,null,1,"app-profile",[],null,null,null,L,m)),t.Ma(1,245760,null,0,y,[g.n],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),j=e("AqcY"),k=e("XIOX"),w=e("OPhZ"),N=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),F=t.La({encapsulation:0,styles:[[""]],data:{}});function S(l){return t.fb(2,[(l()(),t.Na(0,0,null,null,1,"app-article-list",[],null,null,null,j.b,j.a)),t.Ma(1,114688,null,0,k.a,[w.a],null,null)],function(l,n){l(n,1,0)},null)}var C=t.Ja("app-profile-articles",N,function(l){return t.fb(0,[(l()(),t.Na(0,0,null,null,1,"app-profile-articles",[],null,null,null,S,F)),t.Ma(1,114688,null,0,N,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),V=e("/JVv"),E=Object.assign||function(l){for(var n,e=1,t=arguments.length;e<t;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(l[u]=n[u]);return l},$=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch({type:"[profile] GET_PROFILE",payload:l.params.username})},l}(),A=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch(new V.a(E({},V.b.listConfig,{filters:E({},V.b.listConfig.filters,{author:l.params.username})})))},l}(),P=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch(new V.a(E({},V.b.listConfig,{filters:E({},V.b.listConfig.filters,{favorited:l.parent.params.username})})))},l}(),M=e("b2y2"),_=e("J2pT"),I=e("zHMd"),W=e("T+Ru"),R=e("Hep9"),T=e("B0IM"),X=e("D3xR"),K=(e("Ecwh"),function(){function l(l){this.apiService=l}return l.prototype.getProfile=function(l){return this.apiService.get("/profiles/"+l).pipe(Object(v.a)(function(l){return l.profile}))},l}()),x=e("D57K"),q=e("pN2L"),G=e("AouM"),H=e("IMYO"),J=e("HswR"),Y=e("4HYP"),B=e("Qksx"),z=function(){function l(l,n,e){var t=this;this.actions=l,this.actionsService=n,this.profileService=e,this.getProfile=this.actions.ofType("[profile] GET_PROFILE").pipe(Object(B.a)(function(l){return l.payload}),Object(Y.a)(function(l){return l.pipe(Object(v.a)(function(l){return l.payload}),Object(G.a)(function(l){return t.profileService.getProfile(l).pipe(Object(v.a)(function(l){return{type:"[profile] GET_PROFILE_SUCCESS",payload:l}}),Object(H.a)(function(l){return Object(q.a)({type:"[profile] GET_PROFILE_FAIL",payload:l})}))}))})),this.follow=this.actions.ofType("[profile] FOLLOW").pipe(Object(v.a)(function(l){return l.payload}),Object(J.a)(function(l){return t.actionsService.followUser(l).pipe(Object(v.a)(function(l){return{type:"[profile] FOLLOW_SUCCESS",payload:l}}),Object(H.a)(function(l){return Object(q.a)({type:"[profile] FOLLOW_FAIL",payload:l})}))})),this.unFollow=this.actions.ofType("[profile] UNFOLLOW").pipe(Object(v.a)(function(l){return l.payload}),Object(J.a)(function(l){return t.actionsService.unfollowUser(l).pipe(Object(v.a)(function(l){return{type:"[profile] UNFOLLOW_SUCCESS",payload:l}}),Object(H.a)(function(l){return Object(q.a)({type:"[profile] UNFOLLOW_FAIL",payload:l})}))}))}return Object(x.b)([Object(X.b)(),Object(x.d)("design:type",Object)],l.prototype,"getProfile",void 0),Object(x.b)([Object(X.b)(),Object(x.d)("design:type",Object)],l.prototype,"follow",void 0),Object(x.b)([Object(X.b)(),Object(x.d)("design:type",Object)],l.prototype,"unFollow",void 0),l}(),D=e("ou5U");e.d(n,"ProfileModuleNgFactory",function(){return Q});var Q=t.Ka(u,[],function(l){return t.Ta([t.Ua(512,t.j,t.Z,[[8,[r.a,U,C]],[3,t.j],t.v]),t.Ua(4608,a.n,a.m,[t.s,[2,a.t]]),t.Ua(4608,$,$,[g.n]),t.Ua(4608,A,A,[g.n]),t.Ua(4608,P,P,[g.n]),t.Ua(1073742336,a.c,a.c,[]),t.Ua(1073742336,M.a,M.a,[]),t.Ua(1073742336,i.q,i.q,[[2,i.x],[2,i.n]]),t.Ua(1024,g.j,function(){return[{key:"articleList",reducerFactory:g.z,metaReducers:[],initialState:{listConfig:{type:"ALL",currentPage:1,filters:{limit:10}},articles:{entities:[],articlesCount:0,loaded:!1,loading:!1}}},{key:"profile",reducerFactory:g.z,metaReducers:[],initialState:{username:"",bio:"",image:"",following:!1,loading:!1}}]},[]),t.Ua(1024,g.q,function(){return[_.b,f]},[]),t.Ua(1024,g.r,function(l,n){return[l,n]},[g.q,g.q]),t.Ua(1024,g.b,function(l,n,e,t,u,r){return[g.w(l,n,e),g.w(t,u,r)]},[t.p,g.q,g.r,t.p,g.q,g.r]),t.Ua(1073873408,g.o,g.o,[g.j,g.b,g.g,g.p]),t.Ua(512,I.a,I.a,[W.a]),t.Ua(512,R.a,R.a,[W.a]),t.Ua(512,w.a,w.a,[g.n]),t.Ua(512,T.a,T.a,[X.a,I.a,R.a,w.a]),t.Ua(512,K,K,[W.a]),t.Ua(512,z,z,[X.a,R.a,K]),t.Ua(1024,X.h,function(l,n){return[X.d(l),X.d(n)]},[T.a,z]),t.Ua(1073742336,X.f,X.f,[X.e,X.h,[2,g.p],[2,g.o]]),t.Ua(1073742336,D.a,D.a,[]),t.Ua(1073742336,u,u,[]),t.Ua(1024,i.l,function(){return[[{path:"",component:y,resolve:{ProfileResolverService:$},children:[{path:"",component:N,resolve:{ProfileArticlesResolverService:A}},{path:"favorites",component:N,resolve:{ProfileFavoritesResolverService:P}}]}]]},[])])})}}]);