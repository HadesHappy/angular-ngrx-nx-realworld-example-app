webpackJsonp([3],{wGHw:function(l,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=t("WT6e"),u=function(){},o=t("Xjw4"),r=t("bfOx"),i=t("dyjq"),a={username:"",bio:"",image:"",following:!1,loading:!1},c=this&&this.__assign||Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(l[u]=n[u]);return l};function s(l,n){switch(n.type){case"[profile] GET_PROFILE":return c({},l,{loading:!0});case"[profile] GET_PROFILE_SUCCESS":return c({},n.payload,{loading:!1});case"[profile] GET_PROFILE_FAIL":return a;case"[profile] FOLLOW_SUCCESS":case"[profile] UNFOLLOW_SUCCESS":return n.payload;default:return l}}var d=function(l){return l.profile},f=t("5Bs0"),p=t("g5jc"),v=t("E4iY"),m=t("HdCx"),b=t("E7f3"),h=t("0FoY"),O=function(){function l(l){this.store=l,this.isUser$=new p.a,this.unsubscribe$=new p.a}return l.prototype.ngOnInit=function(){var l=this;this.profile$=this.store.select(d),this.currentUser$=this.store.select(f.e),this.profile$.pipe(Object(v.b)(this.currentUser$),Object(h.a)(function(n){var t=n[0];l.username=t.username,l.following=t.following}),Object(m.a)(function(l){return l[0].username===l[1].username}),Object(b.a)(this.unsubscribe$)).subscribe(function(n){return l.isUser$.next(n)})},l.prototype.toggleFollowing=function(){this.store.dispatch(this.following?{type:"[profile] UNFOLLOW",payload:this.username}:{type:"[profile] FOLLOW",payload:this.username})},l.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},l}(),g=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(l){return e["\u0275vid"](2,[(l()(),e["\u0275eld"](0,0,null,null,89,"div",[["class","profile-page"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t"])),(l()(),e["\u0275eld"](2,0,null,null,42,"div",[["class","user-info"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275eld"](4,0,null,null,39,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),e["\u0275eld"](6,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(l()(),e["\u0275eld"](8,0,null,null,33,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](10,0,null,null,1,"img",[["class","user-img"]],[[8,"src",4]],null,null,null,null)),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](13,0,null,null,3,"h4",[],[[8,"hidden",0]],null,null,null,null)),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](15,null,["",""])),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](18,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](19,null,["",""])),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](22,0,null,null,10,"button",[["class","btn btn-sm action-btn"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.toggleFollowing()&&e),e},null,null)),e["\u0275did"](23,278528,null,0,o.j,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),e["\u0275pod"](26,{"btn-outline-secondary":0,"btn-secondary":1}),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](29,0,null,null,0,"i",[["class","ion-plus-round"]],null,null,null,null,null)),(l()(),e["\u0275ted"](30,null,["\n\t\t\t\t\t\t\xa0 "," ","\n\t\t\t\t\t"])),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](34,0,null,null,6,"a",[["class","btn btn-sm btn-outline-secondary action-btn"]],[[8,"hidden",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e["\u0275did"](35,671744,null,0,r.o,[r.m,r.a,o.i],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](36,1),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](39,0,null,null,0,"i",[["class","ion-gear-a"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Edit Profile Settings\n\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t"])),(l()(),e["\u0275eld"](46,0,null,null,42,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275eld"](48,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275eld"](50,0,null,null,36,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275eld"](52,0,null,null,30,"div",[["class","articles-toggle"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](54,0,null,null,27,"ul",[["class","nav nav-pills outline-active"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](56,0,null,null,11,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](58,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,59).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e["\u0275did"](59,671744,[[2,4]],0,r.o,[r.m,r.a,o.i],{routerLink:[0,"routerLink"]},null),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),e["\u0275pad"](61,2),e["\u0275did"](62,1720320,null,2,r.n,[r.m,e.ElementRef,e.Renderer2,e.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e["\u0275qud"](603979776,1,{links:1}),e["\u0275qud"](603979776,2,{linksWithHrefs:1}),e["\u0275pod"](65,{exact:0}),(l()(),e["\u0275ted"](-1,null,["My Articles"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](69,0,null,null,11,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](71,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,72).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e["\u0275did"](72,671744,[[4,4]],0,r.o,[r.m,r.a,o.i],{routerLink:[0,"routerLink"]},null),e["\u0275pid"](131072,o.b,[e.ChangeDetectorRef]),e["\u0275pad"](74,3),e["\u0275did"](75,1720320,null,2,r.n,[r.m,e.ElementRef,e.Renderer2,e.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e["\u0275qud"](603979776,3,{links:1}),e["\u0275qud"](603979776,4,{linksWithHrefs:1}),e["\u0275pod"](78,{exact:0}),(l()(),e["\u0275ted"](-1,null,["Favorited Articles"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(l()(),e["\u0275eld"](84,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](85,212992,null,0,r.q,[r.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n"]))],function(l,n){var t=n.component;l(n,23,0,"btn btn-sm action-btn",l(n,26,0,!e["\u0275unv"](n,23,1,e["\u0275nov"](n,24).transform(t.profile$)).following,e["\u0275unv"](n,23,1,e["\u0275nov"](n,25).transform(t.profile$)).following)),l(n,35,0,l(n,36,0,"/settings")),l(n,59,0,l(n,61,0,"/profile",e["\u0275unv"](n,59,0,e["\u0275nov"](n,60).transform(t.profile$)).username)),l(n,62,0,l(n,65,0,!0),"active"),l(n,72,0,l(n,74,0,"/profile",e["\u0275unv"](n,72,0,e["\u0275nov"](n,73).transform(t.profile$)).username,"favorites")),l(n,75,0,l(n,78,0,!0),"active"),l(n,85,0)},function(l,n){var t,u,o,r=n.component;l(n,10,0,null==(t=e["\u0275unv"](n,10,0,e["\u0275nov"](n,11).transform(r.profile$)))?null:t.image),l(n,13,0,e["\u0275unv"](n,13,0,e["\u0275nov"](n,14).transform(r.profile$)).loading),l(n,15,0,null==(u=e["\u0275unv"](n,15,0,e["\u0275nov"](n,16).transform(r.profile$)))?null:u.username),l(n,19,0,null==(o=e["\u0275unv"](n,19,0,e["\u0275nov"](n,20).transform(r.profile$)))?null:o.bio),l(n,22,0,e["\u0275unv"](n,22,0,e["\u0275nov"](n,27).transform(r.isUser$))),l(n,30,0,e["\u0275unv"](n,30,0,e["\u0275nov"](n,31).transform(r.profile$)).following?"Unfollow":"Follow",e["\u0275unv"](n,30,1,e["\u0275nov"](n,32).transform(r.profile$)).username),l(n,34,0,!e["\u0275unv"](n,34,0,e["\u0275nov"](n,37).transform(r.isUser$)),e["\u0275nov"](n,35).target,e["\u0275nov"](n,35).href),l(n,58,0,e["\u0275nov"](n,59).target,e["\u0275nov"](n,59).href),l(n,71,0,e["\u0275nov"](n,72).target,e["\u0275nov"](n,72).href)})}var y=e["\u0275ccf"]("app-profile",O,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-profile",[],null,null,null,E,g)),e["\u0275did"](1,245760,null,0,O,[i.Store],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),R=t("j/yn"),_=t("Dp0+"),S=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),C=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function F(l){return e["\u0275vid"](2,[(l()(),e["\u0275eld"](0,0,null,null,2,"app-article-list",[],null,null,null,R.b,R.a)),e["\u0275did"](1,114688,null,0,_.a,[i.Store],null,null),(l()(),e["\u0275ted"](-1,null,["\n"]))],function(l,n){l(n,1,0)},null)}var L=e["\u0275ccf"]("app-profile-articles",S,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-profile-articles",[],null,null,null,F,C)),e["\u0275did"](1,114688,null,0,S,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),j=t("p+RJ"),U=this&&this.__assign||Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(l[u]=n[u]);return l},k=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch({type:"[profile] GET_PROFILE",payload:l.params.username})},l}(),A=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch({type:"[article-list] SET_LIST_CONFIG",payload:U({},j.a.listConfig,{filters:U({},j.a.listConfig.filters,{author:l.params.username})})})},l}(),T=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,n){this.store.dispatch({type:"[article-list] SET_LIST_CONFIG",payload:U({},j.a.listConfig,{filters:U({},j.a.listConfig.filters,{favorited:l.parent.params.username})})})},l}(),w=t("QL1P"),D=t("Aczp"),I=t("LJ9e"),$=t("A4oF"),P=t("snKZ"),K=t("8V+U"),W=t("8AXl"),N=(t("08jl"),function(){function l(l){this.apiService=l}return l.prototype.getProfile=function(l){return this.apiService.get("/profiles/"+l).pipe(Object(m.a)(function(l){return l.profile}))},l}()),M=t("TToO"),G=(t("VwFy"),t("YWe0")),x=t("T4hI"),q=t("6VmJ"),V=t("MNFA"),H=t("Qnch"),J=t("5X6E"),X=function(){function l(l,n,t){var e=this;this.actions=l,this.actionsService=n,this.profileService=t,this.getProfile=this.actions.ofType("[profile] GET_PROFILE").pipe(Object(V.a)(function(l){return l.payload}),Object(H.a)(function(l){return l.pipe(Object(m.a)(function(l){return l.payload}),Object(J.a)(function(l){return e.profileService.getProfile(l).pipe(Object(m.a)(function(l){return{type:"[profile] GET_PROFILE_SUCCESS",payload:l}}),Object(x.a)(function(l){return Object(G.of)({type:"[profile] GET_PROFILE_FAIL",payload:l})}))}))})),this.follow=this.actions.ofType("[profile] FOLLOW").pipe(Object(m.a)(function(l){return l.payload}),Object(q.a)(function(l){return e.actionsService.followUser(l).pipe(Object(m.a)(function(l){return{type:"[profile] FOLLOW_SUCCESS",payload:l}}),Object(x.a)(function(l){return Object(G.of)({type:"[profile] FOLLOW_FAIL",payload:l})}))})),this.unFollow=this.actions.ofType("[profile] UNFOLLOW").pipe(Object(m.a)(function(l){return l.payload}),Object(q.a)(function(l){return e.actionsService.unfollowUser(l).pipe(Object(m.a)(function(l){return{type:"[profile] UNFOLLOW_SUCCESS",payload:l}}),Object(x.a)(function(l){return Object(G.of)({type:"[profile] UNFOLLOW_FAIL",payload:l})}))}))}return Object(M.__decorate)([Object(W.Effect)(),Object(M.__metadata)("design:type",Object)],l.prototype,"getProfile",void 0),Object(M.__decorate)([Object(W.Effect)(),Object(M.__metadata)("design:type",Object)],l.prototype,"follow",void 0),Object(M.__decorate)([Object(W.Effect)(),Object(M.__metadata)("design:type",Object)],l.prototype,"unFollow",void 0),l}(),Y=t("vVLs");t.d(n,"ProfileModuleNgFactory",function(){return Q});var Q=e["\u0275cmf"](u,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[y,L]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,o.n,o.m,[e.LOCALE_ID,[2,o.r]]),e["\u0275mpd"](4608,k,k,[i.Store]),e["\u0275mpd"](4608,A,A,[i.Store]),e["\u0275mpd"](4608,T,T,[i.Store]),e["\u0275mpd"](512,o.c,o.c,[]),e["\u0275mpd"](512,w.a,w.a,[]),e["\u0275mpd"](512,r.p,r.p,[[2,r.v],[2,r.m]]),e["\u0275mpd"](1024,i.STORE_FEATURES,function(){return[{key:"articleList",reducerFactory:i.combineReducers,metaReducers:[],initialState:{listConfig:{type:"ALL",currentPage:1,filters:{limit:10}},articles:{entities:[],articlesCount:0,loaded:!1,loading:!1}}},{key:"profile",reducerFactory:i.combineReducers,metaReducers:[],initialState:{username:"",bio:"",image:"",following:!1,loading:!1}}]},[]),e["\u0275mpd"](1024,i._FEATURE_REDUCERS,function(){return[D.a,s]},[]),e["\u0275mpd"](1024,i._FEATURE_REDUCERS_TOKEN,function(l,n){return[l,n]},[i._FEATURE_REDUCERS,i._FEATURE_REDUCERS]),e["\u0275mpd"](1024,i.FEATURE_REDUCERS,function(l,n,t,e,u,o){return[i._createFeatureReducers(l,n,t),i._createFeatureReducers(e,u,o)]},[e.Injector,i._FEATURE_REDUCERS,i._FEATURE_REDUCERS_TOKEN,e.Injector,i._FEATURE_REDUCERS,i._FEATURE_REDUCERS_TOKEN]),e["\u0275mpd"](131584,i.StoreFeatureModule,i.StoreFeatureModule,[i.STORE_FEATURES,i.FEATURE_REDUCERS,i.ReducerManager,i.StoreRootModule]),e["\u0275mpd"](512,I.a,I.a,[$.a]),e["\u0275mpd"](512,P.a,P.a,[$.a]),e["\u0275mpd"](512,K.a,K.a,[W.Actions,I.a,P.a,i.Store]),e["\u0275mpd"](512,N,N,[$.a]),e["\u0275mpd"](512,X,X,[W.Actions,P.a,N]),e["\u0275mpd"](1024,W["\u0275e"],function(l,n){return[W["\u0275a"](l),W["\u0275a"](n)]},[K.a,X]),e["\u0275mpd"](512,W["\u0275c"],W["\u0275c"],[W["\u0275b"],W["\u0275e"],[2,i.StoreRootModule],[2,i.StoreFeatureModule]]),e["\u0275mpd"](512,Y.a,Y.a,[]),e["\u0275mpd"](512,u,u,[]),e["\u0275mpd"](1024,r.k,function(){return[[{path:"",component:O,resolve:{ProfileResolverService:k},children:[{path:"",component:S,resolve:{ProfileArticlesResolverService:A}},{path:"favorites",component:S,resolve:{ProfileFavoritesResolverService:T}}]}]]},[])])})}});