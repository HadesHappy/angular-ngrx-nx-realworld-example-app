webpackJsonp([2],{"0d29":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e("LMZF"),u=function(){},r=e("As1N"),o=e("mIhp"),a=e("7rlV"),i=e("DjqJ"),d=e("ADVA"),s=e("sMAd"),c=e("AFmI"),p=e("0nO6"),m=e("Pqcd"),E=e("Cd5i"),f=e("o18J"),R=e("UHIZ"),S=[{type:"INPUT",name:"image",placeholder:"URL of profile picture",validator:[]},{type:"INPUT",name:"username",placeholder:"Your Name",validator:[p.l.required]},{type:"TEXTAREA",name:"bio",placeholder:"Short bio about you",validator:[]},{type:"INPUT",name:"email",placeholder:"Email",validator:[p.l.required]},{type:"INPUT",name:"password",placeholder:"New Password",validator:[p.l.required],attrs:{type:"password"}}],h=function(){function t(t,n,e){this.store=t,this.localStorageSevice=n,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.store.dispatch({type:"[ngrxForms] SET_STRUCTURE",payload:S}),this.store.select(m.c).subscribe(function(n){t.store.dispatch({type:"[ngrxForms] SET_DATA",payload:n})}),this.data$=this.store.select(f.a),this.structure$=this.store.select(f.c)},t.prototype.updateForm=function(t){this.store.dispatch({type:"[ngrxForms] SET_DATA",payload:t})},t.prototype.submit=function(){this.store.dispatch({type:"[settings] EDIT_SETTINGS"})},t.prototype.logout=function(){this.localStorageSevice.removeItem(),this.router.navigateByUrl("/")},t}(),y=l["\u0275crt"]({encapsulation:0,styles:[[".edit-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"]],data:{}});function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,31,"div",[["class","settings-page"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t"])),(t()(),l["\u0275eld"](2,0,null,null,28,"div",[["class","container page"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t"])),(t()(),l["\u0275eld"](4,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t"])),(t()(),l["\u0275eld"](6,0,null,null,22,"div",[["class","col-md-6 offset-md-3 col-xs-12"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),l["\u0275eld"](8,0,null,null,1,"h1",[["class","text-xs-center"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Your Settings"])),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](11,0,null,null,1,"list-errors",[],null,null,null,a.b,a.a)),l["\u0275did"](12,245760,null,0,i.a,[d.Store],null,null),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](14,0,null,null,2,"dynamic-form",[],null,[[null,"updateForm"]],function(t,n,e){var l=!0;return"updateForm"===n&&(l=!1!==t.component.updateForm(e)&&l),l},s.b,s.a)),l["\u0275did"](15,704512,null,0,c.a,[p.d],{structure$:[0,"structure$"],data$:[1,"data$"]},{updateForm:"updateForm"}),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),l["\u0275eld"](18,0,null,null,4,"div",[["class","edit-button-container"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),l["\u0275eld"](20,0,null,null,1,"button",[["class","btn btn-lg btn-primary pull-xs-right"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t\t\tUpdate Settings\n\t\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](24,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](26,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.logout()&&l),l},null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t\tOr click here to logout.\n\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t"])),(t()(),l["\u0275ted"](-1,null,["\n"]))],function(t,n){var e=n.component;t(n,12,0),t(n,15,0,e.structure$,e.data$)},null)}var g=l["\u0275ccf"]("settings",h,function(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"settings",[],null,null,null,b,y)),l["\u0275did"](1,114688,null,0,h,[d.Store,E.a,R.m],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),_=e("Un6q"),v=e("6Pz1"),T=e("rzKu"),F=e("lWwI"),U=e("9iV4"),A=e("xbAL");function O(t,n){return t}var x=e("3hAx"),D=e("Tl+Y"),j=function(){function t(t){this.apiService=t}return t.prototype.update=function(t){return this.apiService.put("/user",{user:t})},t}(),C=e("6Xbx"),I=(e("RSzd"),e("Dxsx")),k=e("5jKg"),N=e("qqDE"),w=e("wORZ"),M=e("GZB0"),P=this&&this.__assign||Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t},q=function(){function t(t,n,e){var l=this;this.actions=t,this.store=n,this.settingsService=e,this.editSettings=this.actions.ofType("[settings] EDIT_SETTINGS").pipe(Object(I.a)(this.store.select(f.a),this.store.select(m.c)),Object(N.a)(function(t){var n=t[1];return P({},t[2],{image:n.image,username:n.username,bio:n.bio,pass:n.pass,email:n.email})}),Object(k.a)(function(t){return l.settingsService.update(t).pipe(Object(N.a)(function(t){return{type:"[Router] Go",payload:{path:["/"]}}}),Object(w.a)(function(t){return Object(M.of)({type:"[ngrxForms] SET_ERRORS",payload:t.error.errors})}))}))}return Object(C.__decorate)([Object(D.Effect)(),Object(C.__metadata)("design:type",Object)],t.prototype,"editSettings",void 0),t}(),$=e("DMoS");e.d(n,"SettingsModuleNgFactory",function(){return K});var K=l["\u0275cmf"](u,[],function(t){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,o.a,g]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,_.n,_.m,[l.LOCALE_ID,[2,_.r]]),l["\u0275mpd"](4608,E.a,E.a,[]),l["\u0275mpd"](4608,v.a,v.a,[E.a,d.Store]),l["\u0275mpd"](4608,T.a,T.a,[F.a]),l["\u0275mpd"](5120,U.a,function(t,n){return[new v.a(t,n)]},[E.a,d.Store]),l["\u0275mpd"](4608,p.d,p.d,[]),l["\u0275mpd"](4608,p.o,p.o,[]),l["\u0275mpd"](512,_.c,_.c,[]),l["\u0275mpd"](512,A.a,A.a,[]),l["\u0275mpd"](512,p.m,p.m,[]),l["\u0275mpd"](512,p.k,p.k,[]),l["\u0275mpd"](1024,d.STORE_FEATURES,function(){return[{key:"ngrxForms",reducerFactory:d.combineReducers,metaReducers:[],initialState:{data:{},structure:[],valid:!0,errors:{}}},{key:"settings",reducerFactory:d.combineReducers,metaReducers:[],initialState:{}}]},[]),l["\u0275mpd"](1024,d._FEATURE_REDUCERS,function(){return[f.d,O]},[]),l["\u0275mpd"](1024,d._FEATURE_REDUCERS_TOKEN,function(t,n){return[t,n]},[d._FEATURE_REDUCERS,d._FEATURE_REDUCERS]),l["\u0275mpd"](1024,d.FEATURE_REDUCERS,function(t,n,e,l,u,r){return[d._createFeatureReducers(t,n,e),d._createFeatureReducers(l,u,r)]},[l.Injector,d._FEATURE_REDUCERS,d._FEATURE_REDUCERS_TOKEN,l.Injector,d._FEATURE_REDUCERS,d._FEATURE_REDUCERS_TOKEN]),l["\u0275mpd"](131584,d.StoreFeatureModule,d.StoreFeatureModule,[d.STORE_FEATURES,d.FEATURE_REDUCERS,d.ReducerManager]),l["\u0275mpd"](512,x.a,x.a,[D.Actions]),l["\u0275mpd"](512,j,j,[F.a]),l["\u0275mpd"](512,q,q,[D.Actions,d.Store,j]),l["\u0275mpd"](1024,D["\u0275f"],function(t,n){return[D["\u0275a"](t),D["\u0275a"](n)]},[x.a,q]),l["\u0275mpd"](512,D["\u0275d"],D["\u0275d"],[D["\u0275c"],D["\u0275f"],[2,d.StoreModule]]),l["\u0275mpd"](512,$.a,$.a,[]),l["\u0275mpd"](512,R.p,R.p,[[2,R.v],[2,R.m]]),l["\u0275mpd"](512,u,u,[]),l["\u0275mpd"](1024,R.k,function(){return[[{path:"",pathMatch:"full",component:h}]]},[])])})}});