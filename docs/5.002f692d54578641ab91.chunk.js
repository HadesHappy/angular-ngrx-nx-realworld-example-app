webpackJsonp([5],{ST9c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n("LMZF"),r=function(){},u=n("As1N"),o=n("mIhp"),i=n("7rlV"),a=n("DjqJ"),c=n("ADVA"),d=n("sMAd"),p=n("AFmI"),s=n("0nO6"),m=n("UHIZ"),E=n("o18J"),R=[{type:"INPUT",name:"title",placeholder:"Article Title",validator:[s.l.required]},{type:"INPUT",name:"description",placeholder:"What's this article about?",validator:[s.l.required]},{type:"TEXTAREA",name:"body",placeholder:"Write your article (in markdown)",validator:[s.l.required]},{type:"INPUT",name:"tagList",placeholder:"Enter Tags",validator:[]}],f=function(){function t(t,e){this.store=t,this.router=e}return t.prototype.ngOnInit=function(){this.store.dispatch({type:"[ngrxForms] SET_STRUCTURE",payload:R}),this.data$=this.store.select(E.a),this.structure$=this.store.select(E.c)},t.prototype.updateForm=function(t){this.store.dispatch({type:"[ngrxForms] SET_DATA",payload:t})},t.prototype.submit=function(){this.store.dispatch({type:"[editor] PUBLISH_ARTICLE"})},t}(),S=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function h(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,20,"div",[["class","editor-page"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t"])),(t()(),l["\u0275eld"](2,0,null,null,17,"div",[["class","container page"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t"])),(t()(),l["\u0275eld"](4,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t"])),(t()(),l["\u0275eld"](6,0,null,null,11,"div",[["class","col-md-10 offset-md-1 col-xs-12"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](8,0,null,null,1,"list-errors",[],null,null,null,i.b,i.a)),l["\u0275did"](9,245760,null,0,a.a,[c.Store],null,null),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](11,0,null,null,2,"dynamic-form",[],null,[[null,"updateForm"]],function(t,e,n){var l=!0;return"updateForm"===e&&(l=!1!==t.component.updateForm(n)&&l),l},d.b,d.a)),l["\u0275did"](12,704512,null,0,p.a,[s.d],{structure$:[0,"structure$"],data$:[1,"data$"]},{updateForm:"updateForm"}),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(t()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-lg pull-xs-right btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t\t\tPublish Article\n\t\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\n\t\t"])),(t()(),l["\u0275ted"](-1,null,["\n\t"])),(t()(),l["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,9,0),t(e,12,0,n.structure$,n.data$)},null)}var _=l["\u0275ccf"]("article-editor",f,function(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"article-editor",[],null,null,null,h,S)),l["\u0275did"](1,114688,null,0,f,[c.Store,m.m],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),y=n("Un6q"),T=n("Cd5i"),F=n("6Pz1"),b=n("rzKu"),A=n("lWwI"),v=n("9iV4"),U=n("GZB0"),O=function(){function t(t){this.store=t}return t.prototype.resolve=function(t,e){return Object(U.of)(!0)},t}(),g=n("xbAL");function C(t,e){return t}var j=n("3hAx"),D=n("Tl+Y"),I=n("qqDE"),x=function(){function t(t){this.apiService=t}return t.prototype.publishArticle=function(t){return t.slug?this.apiService.put("/articles/"+t.slug,{article:t}).pipe(Object(I.a)(function(t){return t.article})):this.apiService.post("/articles/",{article:t}).pipe(Object(I.a)(function(t){return t.article}))},t}(),M=n("6Xbx"),k=(n("RSzd"),n("5jKg")),L=n("Dxsx"),N=n("wORZ"),P=function(){function t(t,e,n){var l=this;this.actions=t,this.store=e,this.editorService=n,this.editor=this.actions.ofType("[editor] PUBLISH_ARTICLE").pipe(Object(L.a)(this.store.select(E.a)),Object(k.a)(function(t){return l.editorService.publishArticle(t[1]).pipe(Object(I.a)(function(t){return{type:"[Router] Go",payload:{path:["/"]}}}),Object(N.a)(function(t){return Object(U.of)({type:"[ngrxForms] SET_ERRORS",payload:t.error.errors})}))}))}return Object(M.__decorate)([Object(D.Effect)(),Object(M.__metadata)("design:type",Object)],t.prototype,"editor",void 0),t}(),$=n("DMoS");n.d(e,"EditorModuleNgFactory",function(){return q});var q=l["\u0275cmf"](r,[],function(t){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,o.a,_]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,y.n,y.m,[l.LOCALE_ID,[2,y.r]]),l["\u0275mpd"](4608,T.a,T.a,[]),l["\u0275mpd"](4608,F.a,F.a,[T.a,c.Store]),l["\u0275mpd"](4608,b.a,b.a,[A.a]),l["\u0275mpd"](5120,v.a,function(t,e){return[new F.a(t,e)]},[T.a,c.Store]),l["\u0275mpd"](4608,s.d,s.d,[]),l["\u0275mpd"](4608,s.o,s.o,[]),l["\u0275mpd"](4608,O,O,[c.Store]),l["\u0275mpd"](512,y.c,y.c,[]),l["\u0275mpd"](512,g.a,g.a,[]),l["\u0275mpd"](512,s.m,s.m,[]),l["\u0275mpd"](512,s.k,s.k,[]),l["\u0275mpd"](1024,c.STORE_FEATURES,function(){return[{key:"ngrxForms",reducerFactory:c.combineReducers,metaReducers:[],initialState:{data:{},structure:[],valid:!0,errors:{}}},{key:"editor",reducerFactory:c.combineReducers,metaReducers:[],initialState:{}}]},[]),l["\u0275mpd"](1024,c._FEATURE_REDUCERS,function(){return[E.d,C]},[]),l["\u0275mpd"](1024,c._FEATURE_REDUCERS_TOKEN,function(t,e){return[t,e]},[c._FEATURE_REDUCERS,c._FEATURE_REDUCERS]),l["\u0275mpd"](1024,c.FEATURE_REDUCERS,function(t,e,n,l,r,u){return[c._createFeatureReducers(t,e,n),c._createFeatureReducers(l,r,u)]},[l.Injector,c._FEATURE_REDUCERS,c._FEATURE_REDUCERS_TOKEN,l.Injector,c._FEATURE_REDUCERS,c._FEATURE_REDUCERS_TOKEN]),l["\u0275mpd"](131584,c.StoreFeatureModule,c.StoreFeatureModule,[c.STORE_FEATURES,c.FEATURE_REDUCERS,c.ReducerManager]),l["\u0275mpd"](512,j.a,j.a,[D.Actions]),l["\u0275mpd"](512,x,x,[A.a]),l["\u0275mpd"](512,P,P,[D.Actions,c.Store,x]),l["\u0275mpd"](1024,D["\u0275f"],function(t,e){return[D["\u0275a"](t),D["\u0275a"](e)]},[j.a,P]),l["\u0275mpd"](512,D["\u0275d"],D["\u0275d"],[D["\u0275c"],D["\u0275f"],[2,c.StoreModule]]),l["\u0275mpd"](512,$.a,$.a,[]),l["\u0275mpd"](512,m.p,m.p,[[2,m.v],[2,m.m]]),l["\u0275mpd"](512,r,r,[]),l["\u0275mpd"](1024,m.k,function(){return[[{path:"",pathMatch:"full",component:f}]]},[])])})}});