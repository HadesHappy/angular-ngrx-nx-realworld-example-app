webpackJsonp([3],{Oo5C:function(l,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("LMZF"),u=n("ADVA"),r=n("rXA0"),o=this&&this.__assign||Object.assign||function(l){for(var t,n=1,e=arguments.length;n<e;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(l[u]=t[u]);return l},i=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,t){this.store.dispatch({type:"[profile] GET_PROFILE",payload:l.params.username})},l}(),a=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,t){this.store.dispatch({type:"[article-list] SET_LIST_CONFIG",payload:o({},r.a.listConfig,{filters:o({},r.a.listConfig.filters,{author:l.params.username})})})},l}(),c=function(){function l(l){this.store=l}return l.prototype.resolve=function(l,t){this.store.dispatch({type:"[article-list] SET_LIST_CONFIG",payload:o({},r.a.listConfig,{filters:o({},r.a.listConfig.filters,{favorited:l.parent.params.username})})})},l}(),s=function(){},d=n("Un6q"),p=n("UHIZ"),f={username:"",bio:"",image:"",following:!1};function v(l,t){switch(t.type){case"[profile] GET_PROFILE_SUCCESS":return t.payload;case"[profile] GET_PROFILE_FAIL":return f;case"[profile] FOLLOW_SUCCESS":case"[profile] UNFOLLOW_SUCCESS":return t.payload;default:return l}}var m=function(l){return l.profile},b=n("Pqcd"),O=n("TO51"),R=n("ZO8H"),h=n("qqDE"),E=n("5O0w"),y=n("nihM"),g=function(){function l(l){this.store=l,this.isUser$=new O.a,this.unsubscribe$=new O.a}return l.prototype.ngOnInit=function(){var l=this;this.profile$=this.store.select(m),this.currentUser$=this.store.select(b.d),this.profile$.pipe(Object(R.b)(this.currentUser$),Object(y.a)(function(t){var n=t[0];l.username=n.username,l.following=n.following}),Object(h.a)(function(l){return l[0].username===l[1].username}),Object(E.a)(this.unsubscribe$)).subscribe(function(t){return l.isUser$.next(t)})},l.prototype.toggleFollowing=function(){this.store.dispatch(this.following?{type:"[profile] UNFOLLOW",payload:this.username}:{type:"[profile] FOLLOW",payload:this.username})},l.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},l}(),S=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function _(l){return e["\u0275vid"](2,[(l()(),e["\u0275eld"](0,0,null,null,88,"div",[["class","profile-page"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t"])),(l()(),e["\u0275eld"](2,0,null,null,41,"div",[["class","user-info"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275eld"](4,0,null,null,38,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),e["\u0275eld"](6,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(l()(),e["\u0275eld"](8,0,null,null,32,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](10,0,null,null,1,"img",[["class","user-img"]],[[8,"src",4]],null,null,null,null)),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](13,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](14,null,["",""])),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](17,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](18,null,["",""])),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](21,0,null,null,10,"button",[["class","btn btn-sm action-btn"]],[[8,"hidden",0]],[[null,"click"]],function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.toggleFollowing()&&e),e},null,null)),e["\u0275did"](22,278528,null,0,d.j,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),e["\u0275pod"](25,{"btn-outline-secondary":0,"btn-secondary":1}),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](28,0,null,null,0,"i",[["class","ion-plus-round"]],null,null,null,null,null)),(l()(),e["\u0275ted"](29,null,["\n\t\t\t\t\t\t\xa0 "," ","\n\t\t\t\t\t"])),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](33,0,null,null,6,"a",[["class","btn btn-sm btn-outline-secondary action-btn"]],[[8,"hidden",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,t,n){var u=!0;return"click"===t&&(u=!1!==e["\u0275nov"](l,34).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&u),u},null,null)),e["\u0275did"](34,671744,null,0,p.o,[p.m,p.a,d.i],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](35,1),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](38,0,null,null,0,"i",[["class","ion-gear-a"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Edit Profile Settings\n\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t"])),(l()(),e["\u0275eld"](45,0,null,null,42,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t"])),(l()(),e["\u0275eld"](47,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275eld"](49,0,null,null,36,"div",[["class","col-xs-12 col-md-10 offset-md-1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275eld"](51,0,null,null,30,"div",[["class","articles-toggle"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275eld"](53,0,null,null,27,"ul",[["class","nav nav-pills outline-active"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](55,0,null,null,11,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](57,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,t,n){var u=!0;return"click"===t&&(u=!1!==e["\u0275nov"](l,58).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&u),u},null,null)),e["\u0275did"](58,671744,[[2,4]],0,p.o,[p.m,p.a,d.i],{routerLink:[0,"routerLink"]},null),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),e["\u0275pad"](60,2),e["\u0275did"](61,1720320,null,2,p.n,[p.m,e.ElementRef,e.Renderer2,e.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e["\u0275qud"](603979776,1,{links:1}),e["\u0275qud"](603979776,2,{linksWithHrefs:1}),e["\u0275pod"](64,{exact:0}),(l()(),e["\u0275ted"](-1,null,["My Articles"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](68,0,null,null,11,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),e["\u0275eld"](70,0,null,null,8,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,t,n){var u=!0;return"click"===t&&(u=!1!==e["\u0275nov"](l,71).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&u),u},null,null)),e["\u0275did"](71,671744,[[4,4]],0,p.o,[p.m,p.a,d.i],{routerLink:[0,"routerLink"]},null),e["\u0275pid"](131072,d.b,[e.ChangeDetectorRef]),e["\u0275pad"](73,3),e["\u0275did"](74,1720320,null,2,p.n,[p.m,e.ElementRef,e.Renderer2,e.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e["\u0275qud"](603979776,3,{links:1}),e["\u0275qud"](603979776,4,{linksWithHrefs:1}),e["\u0275pod"](77,{exact:0}),(l()(),e["\u0275ted"](-1,null,["Favorited Articles"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t\t"])),(l()(),e["\u0275eld"](83,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](84,212992,null,0,p.q,[p.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n\t\t"])),(l()(),e["\u0275ted"](-1,null,["\n\t"])),(l()(),e["\u0275ted"](-1,null,["\n\n"]))],function(l,t){var n=t.component;l(t,22,0,"btn btn-sm action-btn",l(t,25,0,!e["\u0275unv"](t,22,1,e["\u0275nov"](t,23).transform(n.profile$)).following,e["\u0275unv"](t,22,1,e["\u0275nov"](t,24).transform(n.profile$)).following)),l(t,34,0,l(t,35,0,"/settings")),l(t,58,0,l(t,60,0,"/profile",e["\u0275unv"](t,58,0,e["\u0275nov"](t,59).transform(n.profile$)).username)),l(t,61,0,l(t,64,0,!0),"active"),l(t,71,0,l(t,73,0,"/profile",e["\u0275unv"](t,71,0,e["\u0275nov"](t,72).transform(n.profile$)).username,"favorites")),l(t,74,0,l(t,77,0,!0),"active"),l(t,84,0)},function(l,t){var n,u,r,o=t.component;l(t,10,0,null==(n=e["\u0275unv"](t,10,0,e["\u0275nov"](t,11).transform(o.profile$)))?null:n.image),l(t,14,0,null==(u=e["\u0275unv"](t,14,0,e["\u0275nov"](t,15).transform(o.profile$)))?null:u.username),l(t,18,0,null==(r=e["\u0275unv"](t,18,0,e["\u0275nov"](t,19).transform(o.profile$)))?null:r.bio),l(t,21,0,e["\u0275unv"](t,21,0,e["\u0275nov"](t,26).transform(o.isUser$))),l(t,29,0,e["\u0275unv"](t,29,0,e["\u0275nov"](t,30).transform(o.profile$)).following?"Unfollow":"Follow",e["\u0275unv"](t,29,1,e["\u0275nov"](t,31).transform(o.profile$)).username),l(t,33,0,!e["\u0275unv"](t,33,0,e["\u0275nov"](t,36).transform(o.isUser$)),e["\u0275nov"](t,34).target,e["\u0275nov"](t,34).href),l(t,57,0,e["\u0275nov"](t,58).target,e["\u0275nov"](t,58).href),l(t,70,0,e["\u0275nov"](t,71).target,e["\u0275nov"](t,71).href)})}var C=e["\u0275ccf"]("app-profile",g,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-profile",[],null,null,null,_,S)),e["\u0275did"](1,245760,null,0,g,[u.Store],null,null)],function(l,t){l(t,1,0)},null)},{},{},[]),F=n("EDxg"),L=n("NARe"),U=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),k=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function j(l){return e["\u0275vid"](2,[(l()(),e["\u0275eld"](0,0,null,null,2,"app-article-list",[],null,null,null,F.b,F.a)),e["\u0275did"](1,114688,null,0,L.a,[u.Store],null,null),(l()(),e["\u0275ted"](-1,null,["\n"]))],function(l,t){l(t,1,0)},null)}var A=e["\u0275ccf"]("app-profile-articles",U,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-profile-articles",[],null,null,null,j,k)),e["\u0275did"](1,114688,null,0,U,[],null,null)],function(l,t){l(t,1,0)},null)},{},{},[]),w=n("Cd5i"),T=n("6Pz1"),D=n("9iV4"),I=n("xbAL"),P=n("zpFk"),$=n("kcbe"),K=n("hCWo"),W=n("lWwI"),M=n("rzKu"),N=n("Bt6m"),x=n("Tl+Y"),q=function(){function l(l){this.apiService=l}return l.prototype.getProfile=function(l){return this.apiService.get("/profiles/"+l).pipe(Object(h.a)(function(l){return l.profile}))},l}(),G=n("6Xbx"),H=(n("RSzd"),n("GZB0")),Z=n("wORZ"),z=n("8JPw"),V=n("2xqx"),B=n("wP3s"),J=n("5jKg"),X=function(){function l(l,t,n){var e=this;this.actions=l,this.actionsService=t,this.profileService=n,this.getProfile=this.actions.ofType("[profile] GET_PROFILE").pipe(Object(V.a)(function(l){return l.payload}),Object(B.a)(function(l){return l.pipe(Object(h.a)(function(l){return l.payload}),Object(J.a)(function(l){return e.profileService.getProfile(l).pipe(Object(h.a)(function(l){return{type:"[profile] GET_PROFILE_SUCCESS",payload:l}}),Object(Z.a)(function(l){return Object(H.of)({type:"[profile] GET_PROFILE_FAIL",payload:l})}))}))})),this.follow=this.actions.ofType("[profile] FOLLOW").pipe(Object(h.a)(function(l){return l.payload}),Object(z.a)(function(l){return e.actionsService.followUser(l).pipe(Object(h.a)(function(l){return{type:"[profile] FOLLOW_SUCCESS",payload:l}}),Object(Z.a)(function(l){return Object(H.of)({type:"[profile] FOLLOW_FAIL",payload:l})}))})),this.unFollow=this.actions.ofType("[profile] UNFOLLOW").pipe(Object(h.a)(function(l){return l.payload}),Object(z.a)(function(l){return e.actionsService.unfollowUser(l).pipe(Object(h.a)(function(l){return{type:"[profile] UNFOLLOW_SUCCESS",payload:l}}),Object(Z.a)(function(l){return Object(H.of)({type:"[profile] UNFOLLOW_FAIL",payload:l})}))}))}return Object(G.__decorate)([Object(x.Effect)(),Object(G.__metadata)("design:type",Object)],l.prototype,"getProfile",void 0),Object(G.__decorate)([Object(x.Effect)(),Object(G.__metadata)("design:type",Object)],l.prototype,"follow",void 0),Object(G.__decorate)([Object(x.Effect)(),Object(G.__metadata)("design:type",Object)],l.prototype,"unFollow",void 0),l}(),Y=n("MkYH");n.d(t,"ProfileModuleNgFactory",function(){return Q});var Q=e["\u0275cmf"](s,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[C,A]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,d.n,d.m,[e.LOCALE_ID,[2,d.r]]),e["\u0275mpd"](4608,w.a,w.a,[]),e["\u0275mpd"](4608,T.a,T.a,[w.a,u.Store]),e["\u0275mpd"](5120,D.a,function(l,t){return[new T.a(l,t)]},[w.a,u.Store]),e["\u0275mpd"](4608,i,i,[u.Store]),e["\u0275mpd"](4608,a,a,[u.Store]),e["\u0275mpd"](4608,c,c,[u.Store]),e["\u0275mpd"](512,d.c,d.c,[]),e["\u0275mpd"](512,I.a,I.a,[]),e["\u0275mpd"](512,P.a,P.a,[]),e["\u0275mpd"](512,p.p,p.p,[[2,p.v],[2,p.m]]),e["\u0275mpd"](1024,u.STORE_FEATURES,function(){return[{key:"articleList",reducerFactory:u.combineReducers,metaReducers:[],initialState:{listConfig:{type:"ALL",currentPage:1,filters:{limit:10}},articles:{entities:[],articlesCount:0,loaded:!1,loading:!1}}},{key:"profile",reducerFactory:u.combineReducers,metaReducers:[],initialState:{username:"",bio:"",image:"",following:!1}}]},[]),e["\u0275mpd"](1024,u._FEATURE_REDUCERS,function(){return[$.a,v]},[]),e["\u0275mpd"](1024,u._FEATURE_REDUCERS_TOKEN,function(l,t){return[l,t]},[u._FEATURE_REDUCERS,u._FEATURE_REDUCERS]),e["\u0275mpd"](1024,u.FEATURE_REDUCERS,function(l,t,n,e,r,o){return[u._createFeatureReducers(l,t,n),u._createFeatureReducers(e,r,o)]},[e.Injector,u._FEATURE_REDUCERS,u._FEATURE_REDUCERS_TOKEN,e.Injector,u._FEATURE_REDUCERS,u._FEATURE_REDUCERS_TOKEN]),e["\u0275mpd"](131584,u.StoreFeatureModule,u.StoreFeatureModule,[u.STORE_FEATURES,u.FEATURE_REDUCERS,u.ReducerManager,u.StoreRootModule]),e["\u0275mpd"](512,K.a,K.a,[W.a]),e["\u0275mpd"](512,M.a,M.a,[W.a]),e["\u0275mpd"](512,N.a,N.a,[x.Actions,K.a,M.a,u.Store]),e["\u0275mpd"](512,q,q,[W.a]),e["\u0275mpd"](512,X,X,[x.Actions,M.a,q]),e["\u0275mpd"](1024,x["\u0275e"],function(l,t){return[x["\u0275a"](l),x["\u0275a"](t)]},[N.a,X]),e["\u0275mpd"](512,x["\u0275c"],x["\u0275c"],[x["\u0275b"],x["\u0275e"],[2,u.StoreRootModule],[2,u.StoreFeatureModule]]),e["\u0275mpd"](512,Y.a,Y.a,[]),e["\u0275mpd"](512,s,s,[]),e["\u0275mpd"](1024,p.k,function(){return[[{path:"",component:g,resolve:{ProfileResolverService:i},children:[{path:"",component:U,resolve:{ProfileArticlesResolverService:a}},{path:"favorites",component:U,resolve:{ProfileFavoritesResolverService:c}}]}]]},[])])})}});